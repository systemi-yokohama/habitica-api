DataResponse:
  type: object
  properties:
    success:
      type: boolean
      description: Indicates the success status of the response.
    data:
      type: object
      description: The data object.
      additionalProperties: true
    notifications:
      type: array
      items:
        type: object
        additionalProperties: true
      description: An array of notifications.
    userV:
      type: number
      example: 4212
    appVersion:
      type: string
      description: The app version.
      example: "4.276.0"
DataWithMessageResponse:
  allOf:
    - $ref: "#/components/schemas/DataResponse"
    - type: object
      properties:
        message:
          type: string
          description: Success message.
ErrorMessageResponse:
  type: object
  properties:
    success:
      type: boolean
      description: Indicates the success status of the response.
      example: false
    error:
      type: string
      description: The error code or identifier.
      example: "NotAuthorized"
    message:
      type: string
      description: The error message.
      example: "Missing authentication headers."
BugReportRequest:
  type: object
  properties:
    message:
      type: string
      description: User's Email.
    email:
      type: string
      description: Bug Report Message to sent.
EditUserRequest:
  type: object
  properties:
    achievements:
      type: object
      additionalProperties: true
    stats:
      type: object
      additionalProperties: true
    profile:
      type: object
      additionalProperties: true
    flags:
      type: object
      additionalProperties: true
    preferences:
      type: object
      additionalProperties: true
DeleteUserRequest:
  type: object
  properties:
    password:
      type: string
    feedback:
      type: string
      example: "I'm leaving because..."
UpdateUsernameRequest:
  type: object
  properties:
    username:
      type: string
      description: The new username
    password:
      type: string
      description: The user's password if they use local authentication. Omit if they use social auth.
  required:
    - username
UpdateEmailRequest:
  type: object
  properties:
    newEmail:
      type: string
      description: The new email address
    password:
      type: string
      description: The user password
  required:
    - newEmail
UpdatePasswordRequest:
  type: object
  properties:
    password:
      type: string
      description: The old password
    newPassword:
      type: string
      description: The new password
    confirmPassword:
      type: string
      description: New password confirmation
  required:
    - username
PrivateMessageRequest:
  type: object
  required:
    - message
    - toUserId
  properties:
    message:
      type: string
      description: The private message to be sent.
    toUserId:
      type: string
      format: uuid
      description: The UUID of the user to whom the message will be sent.
NewsResponse:
  type: object
  properties:
    html:
      type: string
      description: Latest Bailey announcement as HTML.
ChallengeRequest:
  type: object
  properties:
    group:
      type: string
      format: uuid
      description: The UUID of the group to which the challenge belongs.
    name:
      type: string
      description: The full name of the challenge.
      example: Fitness Challenge
    shortName:
      type: string
      description: A shortened name for the challenge, to be used as a tag.
    summary:
      type: string
      description: A short summary advertising the main purpose of the challenge; maximum 250 characters; if not supplied, challenge.name will be used.
    description:
      type: string
      description: A detailed description of the challenge.
    official:
      type: boolean
      description: Specifies whether the challenge is an official Habitica challenge.
      default: false
    prize:
      type: number
      description: The prize or reward associated with the challenge.
      default: 0
  required:
    - group
    - name
    - shortName
ChallengeUpdateRequest:
  type: object
  properties:
    name:
      type: string
      description: The new full name of the challenge.
    summary:
      type: string
      description: The new challenge summary.
    description:
      type: string
      description: The new challenge description.
LeaveChallengeRequest:
  type: object
  properties:
    keep:
      type: string
      enum: [remove-all, keep-all]
      default: keep-all
      description: Specify whether to remove all or keep all challenge-related tasks upon leaving.
NewsPost:
  type: object
  properties:
    title:
      type: string
      description: The title of the news article.
    text:
      type: string
      description: The content or body of the news article.
    credits:
      type: string
      description: The credits or source of the news article.
    author:
      type: string
      description: The author of the news article.
    publishDate:
      type: string
      format: date-time
      description: The timestamp of the news article publication.
    published:
      type: boolean
      description: Specifies whether the news article is published.
  required:
    - title
    - text
    - credits
    - author
    - publishDate
    - published
StatAllocation:
  type: object
  properties:
    stats:
      type: object
      properties:
        int:
          type: number
          description: The number of points to allocate to INT (Intelligence) stat.
        str:
          type: number
          description: The number of points to allocate to STR (Strength) stat.
        con:
          type: number
          description: The number of points to allocate to CON (Constitution) stat.
        per:
          type: number
          description: The number of points to allocate to PER (Perception) stat.
      required:
        - int
        - str
        - con
        - per
ChatMessageRequest:
  type: object
  properties:
    message:
      type: string
      description: The content of the chat message.
ChatFlagRequest:
  type: object
  properties:
    name:
      type: string
      description: Explanation why the message was flagged.
      example: The message is not appropriate.
UserTaskRequest:
  type: object
  properties:
    text:
      type: string
      description: The text to be displayed for the task.
    type:
      type: string
      description: "Task type, options are: `habit`, `daily`, `todo`, `reward`."
      enum:
        - habit
        - daily
        - todo
        - reward
      default: habit
    tags:
      type: array
      items:
        type: string
      description: Array of UUIDs of tags.
    alias:
      type: string
      description: Alias to assign to task.
    attribute:
      type: string
      description: "User's attribute to use, options are: `str`, `int`, `per`, `con`"
      enum:
        - str
        - int
        - per
        - con
      default: str
    checklist:
      type: array
      items:
        type: object
        properties:
          text:
            type: string
            description: The text description of the checklist item.
          completed:
            type: boolean
            description: Indicates whether the checklist item is completed or not.
      description: An array of checklist items.
    collapseChecklist:
      type: boolean
      description: Determines if a checklist will be displayed.
      default: false
    notes:
      type: string
      description: Additional notes or details about the task.
    date:
      type: string
      format: date-time
      description: Due date to be shown in task list. Only valid for type "todo."
    priority:
      type: number
      description: Difficulty, options are 0.1, 1, 1.5, 2; equivalent of Trivial, Easy, Medium, Hard.
      default: 1
      enum:
        - 0.1
        - 1
        - 1.5
        - 2
    reminders:
      type: array
      items:
        type: object
        properties:
          id:
            type: string
            format: uuid
          startDate:
            type: string
            format: date
            example: "1/16/17"
          time:
            type: string
            format: date
            example: "1/16/17"
      description: "Array of reminders, each an object that must include: a UUID, startDate and time."
    frequency:
      type: string
      description: Values "weekly" and "monthly" enable use of the "repeat" field. All frequency values enable use of the "everyX" field. Value "monthly" enables use of the "weeksOfMonth" and "daysOfMonth" fields. Frequency is only valid for type "daily".
      default: weekly
      enum:
        - daily
        - weekly
        - monthly
        - yearly
    repeat:
      type: boolean
      description: 'List of objects for days of the week, Days that are true will be repeated upon. Only valid for type "daily". Any days not specified will be marked as true. Days are: su, m, t, w, th, f, s. Value of frequency must be "weekly".'
      example: true
    everyX:
      type: number
      description: Value of frequency must be "daily", the number of days until this daily task is available again.
      example: 1
    streak:
      type: number
      description: Number of days that the task has consecutively been checked off. Only valid for type "daily".
      example: 0
    daysOfMonth:
      type: array
      items:
        type: number
      description: Array of integers. Only valid for type "daily".
    weeksOfMonth:
      type: array
      items:
        type: string
      description: Array of integers. Only valid for type "daily".
    startDate:
      type: string
      format: date
      description: Date when the task will first become available. Only valid for type "daily".
    up:
      type: boolean
      description: Only valid for type "habit" If true, enables the "+" under "Directions/Action" for "Good habits".
      example: true
    down:
      type: boolean
      description: Only valid for type "habit" If true, enables the "-" under "Directions/Action" for "Bad habits".
      example: true
    value:
      type: number
      description: Only valid for type "reward." The cost in gold of the reward. Should be greater then or equal to 0.
      example: 0
  required:
    - text
    - type
PurchaseItemRequest:
  type: object
  properties:
    quantity:
      type: integer
      minimum: 1
      default: 1
      description: Count of items to buy. Defaults to 1 and is ignored for items where quantity is irrelevant.
LeaveGroupRequest:
  type: object
  properties:
    keepChallenges:
      type: string
      enum:
        - remain-in-challenges
        - leave-challenges
      default: leave-challenges
      description: Specify whether to remain in challenges or leave challenges upon leaving the group.
GroupPlanCreateRequest:
  type: object
  properties:
    name:
      type: string
      description: The name of the group plan.
    description:
      type: string
      description: The description of the group plan.
    gems:
      type: integer
      description: The number of gems required for the plan.
    interval:
      type: string
      description: The interval of the plan in cron syntax.
CustomDayStartRequest:
  type: object
  properties:
    dayStart:
      type: number
      description: The hour number (0-23) for the day to begin. If not supplied, it will default to 0.
      minimum: 0
      maximum: 23
      default: 0
CreateOrUpdateGroupRequest:
  type: object
  required:
    - name
    - type
    - privacy
  properties:
    name:
      type: string
      description: The name of the new group.
    type:
      type: string
      enum: ["guild", "party"]
      example: guild
      description: Type of group (guild or party)
    privacy:
      type: string
      enum: ["private", "public"]
      example: public
      description: Privacy of group (party MUST be private)
AddOrRemoveManagerRequest:
  type: object
  required:
    - managerId
  properties:
    managerId:
      type: string
      format: uuid
      description: The UUID of the user.
GroupInviteRequest:
  type: object
  properties:
    emails:
      type: array
      description: An array of objects, each representing one email address to invite.
      items:
        type: object
        properties:
          email:
            type: string
            format: email
            description: The email address of the user being invited.
          name:
            type: string
            description: The name of the user being invited.
        required:
          - email
    uuids:
      type: array
      description: An array of user IDs to invite.
      items:
        type: string
        format: uuid
TransferGemsRequest:
  type: object
  properties:
    message:
      type: string
      description: The message to the user
    toUserId:
      type: string
      format: uuid
      description: The user to send the gift to
    gemAmount:
      type: integer
      description: The number of gems to send
WebhookCreateRequest:
  type: object
  properties:
    id:
      type: string
      format: uuid
      description: The webhook's id.
    url:
      type: string
      description: The webhook's URL.
    label:
      type: string
      description: A label to remind you what this webhook does.
    enabled:
      type: boolean
      description: If the webhook should be enabled.
      default: true
    type:
      type: string
      description: The webhook's type.
      enum:
        [
          "taskActivity",
          "groupChatReceived",
          "userActivity",
          "questActivity",
        ]
      default: taskActivity
    options:
      type: object
      description: The webhook's options. Will differ depending on type. Required for `groupChatReceived` type. If a webhook supports options, the default values are displayed in the examples below.
      additionalProperties: true
  required:
    - url
WebhookUpdateRequest:
  type: object
  properties:
    url:
      type: string
      description: The webhook's URL.
    label:
      type: string
      description: A label to remind you what this webhook does.
    enabled:
      type: boolean
      description: If the webhook should be enabled.
    type:
      type: string
      enum:
        [
          "taskActivity",
          "groupChatReceived",
          "userActivity",
          "questActivity",
        ]
      description: The webhook's type.
    options:
      type: object
      description: The webhook's options. Will differ depending on type. The options are enumerated in the [add webhook examples](https://habitica.com/apidoc/#api-Webhook-UserAddWebhook).
      additionalProperties: true
TagCreateOrUpdateRequest:
  type: object
  properties:
    name:
      type: string
      description: The name of the new tag.
      example: morning
TagReorderRequest:
  type: object
  properties:
    tagId:
      type: string
      format: uuid
      description: The ID of the tag to reorder.
    to:
      type: number
      description: The new position of the tag in the order.
ChecklistItemRequest:
  type: object
  properties:
    text:
      type: string
      description: The text of the checklist item
    completed:
      type: boolean
      default: false
      description: Whether the checklist item is checked off
  required:
    - text
TaskAssignRequest:
  type: array
  items:
    type: string
    format: uuid
  description: The ID of the user to whom the task will be assigned
Task:
  type: object
  properties:
    id:
      type: string
      format: uuid
      description: The Task UUID
    text:
      type: string
      description: The text to be displayed for the task
    type:
      type: string
      enum: [habit, daily, todo, reward]
      description: "Task type, options are: `habit`, `daily`, `todo`, `reward`"
    attribute:
      type: string
      enum: [str, int, per, con]
      description: "User's attribute to use, options are: `str`, `int`, `per`, `con`"
    collapseChecklist:
      type: boolean
      default: false
      description: Determines if a checklist will be displayed
    notes:
      type: string
      description: Extra notes
    date:
      type: string
      format: date
      description: Due date to be shown in task list. Only valid for type "todo"
    dateCompleted:
      type: string
      format: date-time
      description: Date when the todo was completed.
    priority:
      type: integer
      enum: [0.1, 1, 1.5, 2]
      default: 1
      description: Difficulty, options are 0.1, 1, 1.5, 2; equivalent of Trivial, Easy, Medium, Hard
    reminders:
      type: array
      items:
        type: string
      description: 'Array of reminders, each an object that must include: a UUID, startDate and time.\nFor example: {"id":"ed427623-9a69-4aac-9852-13deb9c190c3", "startDate":"1/16/17","time":"1/16/17" }'
    frequency:
      type: string
      enum: [daily, weekly, monthly, yearly]
      default: weekly
      description: Values "weekly" and "monthly" enable use of the "repeat" field. All frequency values enable use of the "everyX" field. Value "monthly" enables use of the "weeksOfMonth" and "daysOfMonth" fields. Frequency is only valid for type "daily".
    repeat:
      type: string
      default: "true"
      description: 'List of objects for days of the week, Days that are true will be repeated upon. Only valid for type "daily". Any days not specified will be marked as true. Days are: su, m, t, w, th, f, s. Value of frequency must be "weekly". For example, to skip repeats on Mon and Fri: "repeat":{"f":false,"m":false}'
    everyX:
      type: integer
      default: 1
      description: Value of frequency must be "daily", the number of days until this daily task is available again
    streak:
      type: integer
      default: 0
      description: Number of days that the task has consecutively been checked off. Only valid for type "daily"
    daysOfMonth:
      type: array
      items:
        type: integer
      description: Array of integers. Only valid for type "daily"
    weeksOfMonth:
      type: array
      items:
        type: integer
      description: Array of integers. Only valid for type "daily"
    startDate:
      type: string
      format: date
      description: Date when the task will first become available. Only valid for type "daily"
    up:
      type: boolean
      default: true
      description: Only valid for type "habit" If true, enables the "+" under "Directions/Action" for "Good habits"
    down:
      type: boolean
      default: true
      description: Only valid for type "habit" If true, enables the "-" under "Directions/Action" for "Bad habits"
    value:
      type: integer
      default: 0
      description: Only valid for type "reward." The cost in gold of the reward
  required:
    - text
    - type
InventoryModificationRequest:
  type: object
  properties:
    gear:
      type: object
      description: Object to replace user's `gear.owned` object.
      additionalProperties: true
    special:
      type: object
      description: Object to replace user's `special` object.
      additionalProperties: true
    pets:
      type: object
      description: Object to replace user's `pets` object.
      additionalProperties: true
    mounts:
      type: object
      description: Object to replace user's `mounts` object.
      additionalProperties: true
    eggs:
      type: object
      description: Object to replace user's `eggs` object.
      additionalProperties: true
    hatchingPotions:
      type: object
      description: Object to replace user's `hatchingPotions` object.
      additionalProperties: true
    food:
      type: object
      description: Object to replace user's `food` object.
      additionalProperties: true
    quests:
      type: object
      description: Object to replace user's `quests` object.
      additionalProperties: true
HeroUpdateRequest:
  type: object
  additionalProperties: true
SetLastCronRequest:
  type: object
  properties:
    lastCron:
      type: string
      format: date-time
      description: Last cron date-time
  required:
    - lastCron
UserTasksResponse:
  allOf:
    - $ref: "#/components/schemas/DataResponse"
    - type: object
      properties:
        data:
          type: array
          items:
            $ref: "#/components/schemas/Task"
User:
  type: object
  properties:
    _id:
      type: string
      format: uuid
      description: The User UUID
    username:
      type: string
    auth:
      type: object
      properties:
        local:
          type: object
          properties:
            username:
              type: string
            email:
              type: string
      description: Authentication details
    stats:
      type: object
      properties:
        hp:
          type: number
          description: Current Health
        maxHealth:
          type: number
          description: Maximum Health
        mp:
          type: number
          description: Current Mana
        maxMP:
          type: number
          description: Maximum Mana
        lvl:
          type: integer
          description: Current Level
        gp:
          type: number
          description: Gold pieces
        exp:
          type: number
          description: Current Experience
        class:
          type: string
          enum: [warrior, wizard, rogue, healer]
        toNextLevel:
          type: integer
      additionalProperties: true
    profile:
      type: object
      properties:
        name:
          type: string
        imageUrl:
          type: string
        blurb:
          type: string
      additionalProperties: true
    items:
      type: object
      description: User inventory (gear, eggs, food, etc.)
      additionalProperties: true
    flags:
      type: object
      additionalProperties: true
    preferences:
      type: object
      additionalProperties: true
  additionalProperties: true
  required:
    - text
    - type
UserResponse:
  allOf:
    - $ref: "#/components/schemas/DataResponse"
    - type: object
      properties:
        data:
          $ref: "#/components/schemas/User"